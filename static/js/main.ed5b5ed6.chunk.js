(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo.1a873129.svg"},function(e,a,t){e.exports=t(28)},,,,,,function(e,a,t){},function(e,a,t){},,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(13),c=t.n(o),l=(t(21),t(11)),s=t(4),i=t(5),m=t(7),d=t(6),_=t(8),u=t(14),v=t.n(u),f=(t(22),function(e){var a=e.logo,t=e.title;return n.a.createElement("header",{className:"App__header"},n.a.createElement("img",{src:a,className:"App__logo",alt:"logo"}),n.a.createElement("h1",{className:"App__title"},t))}),p=t(3),h=t(2),N=(t(25),function(e){var a=e.text;return n.a.createElement("div",{className:"all"},n.a.createElement("div",{className:"loader"}),n.a.createElement("div",{className:"loader2"}),n.a.createElement("p",{className:"loading"},a))});N.defaultProps={text:"Loading..."};var E=N,g=t(10);function C(e){var a={USD:"$",MXN:"$",RUB:"\u20bd",SEK:"kr",CHF:"Fr",EUR:"\u20ac",CRC:"\u20a1",GBP:"\xa3",ILS:"\u20aa",INR:"\u20b9",JPY:"\xa5",KRW:"\u20a9",NGN:"\u20a6",PHP:"\u20b1",PLN:"z\u0142",PYG:"\u20b2",THB:"\u0e3f",UAH:"\u20b4",VND:"\u20ab"};if(void 0!==a[e])return a[e]}var y=function(e){function a(){var e,t;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={usd:1},t.handleChange=function(e){t.setState({usd:+e.currentTarget.value})},t.renderMarketData=function(){var e=t.props,a=e.marketData;return e.dataIsReady?n.a.createElement("div",{className:"marketData"},n.a.createElement("div",{className:"fx fx-center-v base__wrapper"},n.a.createElement("h1",{className:"base"},"Base ",n.a.createElement("span",{className:"base__value"},"USD")),n.a.createElement("span",{className:"dollarSign"},"$"),n.a.createElement("input",{type:"number",className:"base__inputValue",min:"0",defaultValue:"1",placeholder:"USD",onChange:t.handleChange.bind(Object(h.a)(t))})),n.a.createElement("ul",{className:"data__header"},n.a.createElement("li",{className:"fx fx-center-v data__headerItem"},n.a.createElement("span",{className:"data__col data__col1 data__headerCol data__headerCol1"},"Currency Name"),n.a.createElement("span",{className:"data__col data__col2 data__headerCol data__headerCol2"},"Code"),n.a.createElement("span",{className:"data__col data__col3 data__headerCol data__headerCol3"},"Price"),n.a.createElement("span",{className:"data__col data__col4 data__headerCol data__headerCol4"},"Volume"),n.a.createElement("span",{className:"data__col data__col5 data__headerCol data__headerCol5"},"Result"))),n.a.createElement("ul",{className:"data__list"},a.map(function(e){return n.a.createElement("li",{key:"market_".concat(e.fromCurrency),className:"fx fx-center-v data__listItem"},n.a.createElement("span",{className:"data__col data__col1 data__listCol data__listCol1"},e.currencyName),n.a.createElement("span",{className:"data__col data__col2 data__listCol data__listCol2"},"".concat(e.fromCurrency," (").concat(C(e.fromCurrency),")")),n.a.createElement("span",{className:"data__col data__col3 data__listCol data__listCol3"},e.price),n.a.createElement("span",{className:"data__col data__col4 data__listCol data__listCol4"},e.volume),n.a.createElement("span",{className:"data__col data__col5 data__listCol data__listCol5"},"".concat((a=t.state.usd,r=e.price,"number"===typeof a&&a>=0?(a/r).toFixed(2):"Ivalid USD value")," ").concat(C(e.fromCurrency))),n.a.createElement("strong",{className:localStorage.getItem("favorites").includes(JSON.stringify(e))?"addRemoveFavorite addRemoveFavorite--favorited":"addRemoveFavorite",onClick:t.props.toggleFavorite.bind(Object(h.a)(t),e)},localStorage.getItem("favorites").includes(JSON.stringify(e))?n.a.createElement(g.b,{color:"#f9d421"}):n.a.createElement(g.a,{color:"#f9d421"})));var a,r}))):n.a.createElement(E,null)},t}return Object(_.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.marketData;return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:this.props.sortData.bind(this,e),className:"sortBtn"},this.props.sorted?"Ascending":"Descending"),n.a.createElement("div",{className:"tabRow"},this.renderMarketData()))}}]),a}(r.Component),b=function(e){function a(){var e,t;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).renderFavorites=function(){var e=localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[];return e.length>0?n.a.createElement("div",{className:"favorites marketData"},n.a.createElement("div",{className:"fx fx-center-v base__wrapper"},n.a.createElement("h1",{className:"base"},"Base ",n.a.createElement("span",{className:"base__value"},"USD"))),n.a.createElement("ul",{className:"data__header"},n.a.createElement("li",{className:"fx fx-center-v data__headerItem"},n.a.createElement("span",{className:"data__col data__col1 data__headerCol data__headerCol1"},"Currency Name"),n.a.createElement("span",{className:"data__col data__col2 data__headerCol data__headerCol2"},"Code"),n.a.createElement("span",{className:"data__col data__col3 data__headerCol data__headerCol3"},"Price"),n.a.createElement("span",{className:"data__col data__col4 data__headerCol data__headerCol4"},"Volume"))),n.a.createElement("ul",null,e.map(function(e){return n.a.createElement("li",{key:"favorite_".concat(e.fromCurrency),className:"fx fx-center-v data__listItem"},n.a.createElement("span",{className:"data__col data__col1 data__listCol data__listCol1"},e.currencyName),n.a.createElement("span",{className:"data__col data__col2 data__listCol data__listCol2"},"".concat(e.fromCurrency," (").concat(C(e.fromCurrency),")")),n.a.createElement("span",{className:"data__col data__col3 data__listCol data__listCol3"},e.price),n.a.createElement("span",{className:"data__col data__col4 data__listCol data__listCol4"},e.volume),n.a.createElement("strong",{className:"addRemoveFavorite addRemoveFavorite--favorited",onClick:t.props.removeFavorite.bind(Object(h.a)(t),e)},n.a.createElement(g.b,{color:"#f9d421"})))}))):n.a.createElement("div",{className:"favorites marketData"},n.a.createElement("h2",{className:"favorites__title--empty"},"No Favorites"))},t}return Object(_.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"tabRow"},this.renderFavorites())}}]),a}(r.Component),k=(t(26),function(e){var a=e.marketData,t=e.dataIsReady,r=e.toggleFavorite,o=e.sortData,c=e.removeFavorite,l=e.sorted;return n.a.createElement("main",null,n.a.createElement("div",{className:"tabContainer"},n.a.createElement(p.d,null,n.a.createElement(p.b,null,n.a.createElement(p.a,null,"USD"),n.a.createElement(p.a,null,"Favorites")),n.a.createElement(p.c,null,n.a.createElement(y,{marketData:a,dataIsReady:t,toggleFavorite:r,sortData:o,sorted:l})),n.a.createElement(p.c,null,n.a.createElement(b,{removeFavorite:c})))))}),S=(t(27),function(e){function a(){var e,t;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(n)))).state={marketURL:"https://exchange-test-app.herokuapp.com/market",currenciesURL:"https://exchange-test-app.herokuapp.com/currencies",favorites:[],marketData:[],dataIsReady:!1,sorted:!1},t.getInitalFavorites=function(){var e=JSON.parse(localStorage.getItem("favorites"))?JSON.parse(localStorage.getItem("favorites")):[];t.setState({favorites:e})},t.getData=function(){var e=t.state,a=e.marketURL,r=e.currenciesURL;fetch(a).then(function(e){return e.json()}).then(function(e){return t.setState({marketData:e.market,toCurrencyId:e.toCurrencyId}),fetch(r)}).then(function(e){return e.json()}).then(function(e){var a=t.state.marketData.map(function(a){return a.currencyName=e.currencies.filter(function(e){return e.currencyId===a.fromCurrencyId})[0].currencyName,a});t.setState({dataIsReady:!0,marketData:a})}).catch(function(e){throw new Error(e)})},t.toggleFavorite=function(e){var a=Object(l.a)(t.state.favorites);JSON.stringify(t.state.favorites).includes(JSON.stringify(e))?a=a.filter(function(a){return a.fromCurrencyId!==e.fromCurrencyId}):a.push(e),localStorage.setItem("favorites",JSON.stringify(a)),t.setState({favorites:a})},t.removeFavorite=function(e){var a=Object(l.a)(t.state.favorites);JSON.stringify(t.state.favorites).includes(JSON.stringify(e))&&(a=a.filter(function(a){return a.fromCurrencyId!==e.fromCurrencyId})),localStorage.setItem("favorites",JSON.stringify(a)),t.setState({favorites:a})},t.sortData=function(e){t.state.sorted?t.setState({sorted:!t.state.sorted,marketData:e.sort(function(e,a){return e.price-a.price})}):t.setState({sorted:!t.state.sorted,marketData:e.sort(function(e,a){return a.price-e.price})})},t}return Object(_.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){JSON.parse(localStorage.getItem("favorites"))||localStorage.setItem("favorites","[]")}},{key:"componentDidMount",value:function(){this.getData(),this.getInitalFavorites()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state,a=e.favorites,t=e.marketData,r=e.sorted,o=e.dataIsReady;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"container"},n.a.createElement(f,{title:"USD Exchange",logo:v.a}),n.a.createElement(k,{favorites:a,marketData:t,toggleFavorite:this.toggleFavorite,removeFavorite:this.removeFavorite,sortData:this.sortData,sorted:r,dataIsReady:o})))}}]),a}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[15,1,2]]]);
//# sourceMappingURL=main.ed5b5ed6.chunk.js.map